/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/@microsoft/signalr@3.1.0/dist/cjs/HandshakeProtocol.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TextMessageFormat_1=require("./TextMessageFormat"),Utils_1=require("./Utils"),HandshakeProtocol=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return TextMessageFormat_1.TextMessageFormat.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var r,t;if(Utils_1.isArrayBuffer(e)||"undefined"!=typeof Buffer&&e instanceof Buffer){var s=new Uint8Array(e);if(-1===(o=s.indexOf(TextMessageFormat_1.TextMessageFormat.RecordSeparatorCode)))throw new Error("Message is incomplete.");var a=o+1;r=String.fromCharCode.apply(null,s.slice(0,a)),t=s.byteLength>a?s.slice(a).buffer:null}else{var o,n=e;if(-1===(o=n.indexOf(TextMessageFormat_1.TextMessageFormat.RecordSeparator)))throw new Error("Message is incomplete.");a=o+1;r=n.substring(0,a),t=n.length>a?n.substring(a):null}var i=TextMessageFormat_1.TextMessageFormat.parse(r),f=JSON.parse(i[0]);if(f.type)throw new Error("Expected a handshake response from the server.");return[t,f]},e}();exports.HandshakeProtocol=HandshakeProtocol;
//# sourceMappingURL=/sm/7c0d7c2e4be5ec507ee98c11d690f51868b658465ff859efa41f76d9b05224bc.map